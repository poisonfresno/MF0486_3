(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{184:function(t,e,s){"use strict";s.r(e);var i=s(1),n={name:"gaz-infinite-progress",props:["firstPost"],data:function(){return{height:null,postId:this.firstPost.id,element:null,scroll:{current:0,last:0,scrollDown:!1},title:this.firstPost.title.rendered}},created:function(){i.a.$on("gaz-progress-post-id",this.eventGazProgressPost)},mounted:function(){this.element=this.getElementByPostId(this.postId),this.height=this.element.getBoundingClientRect().height,this.bindScrollEvent()},beforeDestroy:function(){i.a.$off("gaz-progress-post-id",this.eventGazProgressPost)},methods:{eventGazProgressPost:function(t){var e=this;this.$nextTick((function(){e.title=t.title.rendered,e.postId=t.id,e.element=e.getElementByPostId(e.postId)}))},getElementByPostId:function(t){var e=document.querySelectorAll("article[data-postId='"+t+"']");return e.length>0&&(e=e[0]),e},bindScrollEvent:function(){var t=this,e=document.getElementById("gaz-infinite-progress");window.addEventListener("scroll",(function(){t.resolveScrollDirection();var s=t.element.getBoundingClientRect();t.scroll.scrollDown?t.height=s.height-window.innerHeight/2:t.height=s.height;var i=s.top-window.innerHeight/2,n=Math.abs(i)/t.height*100;e.style.width=i<0?n+"%":"0"}))},resolveScrollDirection:function(){this.scroll.current=document.documentElement.scrollTop||document.body.scrollTop,0===this.scroll.last&&(this.scroll.last=this.scroll.current),this.scroll.current>0&&this.scroll.current>this.scroll.last?this.scroll.scrollDown=!0:this.scroll.scrollDown=!1,this.scroll.last=this.scroll.current}}},o=s(0),r=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"infinite-progress-container"},[e("div",{staticClass:"title",domProps:{innerHTML:this._s(this.title)}}),this._v(" "),e("div",{staticClass:"bar",attrs:{id:"gaz-infinite-progress"}})])}),[],!1,null,null,null);e.default=r.exports}}]);